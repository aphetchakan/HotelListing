2021-08-18 11:02:38.419 +07:00 [INF] Application is starting
2021-08-18 11:02:42.553 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 11:02:43.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 11:02:43.444 +07:00 [INF] Hosting environment: Development
2021-08-18 11:02:43.444 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 11:02:43.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 11:02:43.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 237.4696ms
2021-08-18 11:02:44.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 11:02:44.185 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.2058ms
2021-08-18 11:03:04.800 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:03:04.806 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:03:04.857 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:03:04.893 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:03:05.727 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:03:06.902 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:03:08.357 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:03:08.807 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 11:03:09.167 +07:00 [ERR] Something Went Wrong in the Login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'System.String' requires a key size of at least 'System.Int32' bits. Key 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', is of size: 'System.Int32'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at HotelListing.Services.AuthManager.CreateToken() in D:\Code\HotelListing\HotelListing\Services\AuthManager.cs:line 34
   at HotelListing.Controllers.AccountController.Login(LoginUserDTO userDTO) in D:\Code\HotelListing\HotelListing\Controllers\AccountController.cs:line 92
2021-08-18 11:03:09.434 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-18 11:03:09.513 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 4614.1837ms
2021-08-18 11:03:09.514 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:03:09.522 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 500 245 application/problem+json;+charset=utf-8 4729.5741ms
2021-08-18 11:03:50.435 +07:00 [INF] Application is starting
2021-08-18 11:03:53.666 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 11:03:54.288 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 11:03:54.288 +07:00 [INF] Hosting environment: Development
2021-08-18 11:03:54.288 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 11:03:54.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 11:03:54.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 221.0444ms
2021-08-18 11:03:54.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 11:03:54.975 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.2671ms
2021-08-18 11:04:18.094 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:04:18.104 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:04:18.155 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:04:18.194 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:04:18.756 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:04:19.676 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:04:20.611 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:04:20.910 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 11:04:21.215 +07:00 [ERR] Something Went Wrong in the Login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'System.String' requires a key size of at least 'System.Int32' bits. Key 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', is of size: 'System.Int32'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at HotelListing.Services.AuthManager.CreateToken() in D:\Code\HotelListing\HotelListing\Services\AuthManager.cs:line 34
   at HotelListing.Controllers.AccountController.Login(LoginUserDTO userDTO) in D:\Code\HotelListing\HotelListing\Controllers\AccountController.cs:line 92
2021-08-18 11:04:21.317 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-18 11:04:21.383 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3183.6689ms
2021-08-18 11:04:21.384 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:04:21.391 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 500 245 application/problem+json;+charset=utf-8 3302.8698ms
2021-08-18 11:05:43.456 +07:00 [INF] Application is starting
2021-08-18 11:05:46.202 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 11:05:46.751 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 11:05:46.751 +07:00 [INF] Hosting environment: Development
2021-08-18 11:05:46.751 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 11:05:46.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 11:05:47.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 193.9485ms
2021-08-18 11:05:47.166 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 11:05:47.323 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.7144ms
2021-08-18 11:06:07.939 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:06:07.949 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:06:08.010 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:06:08.045 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:06:08.567 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:06:09.376 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:06:10.153 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:06:18.952 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 11:06:19.225 +07:00 [ERR] Something Went Wrong in the Login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'System.String' requires a key size of at least 'System.Int32' bits. Key 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', is of size: 'System.Int32'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at HotelListing.Services.AuthManager.CreateToken() in D:\Code\HotelListing\HotelListing\Services\AuthManager.cs:line 34
   at HotelListing.Controllers.AccountController.Login(LoginUserDTO userDTO) in D:\Code\HotelListing\HotelListing\Controllers\AccountController.cs:line 92
2021-08-18 11:06:19.362 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-18 11:06:19.439 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 11386.3116ms
2021-08-18 11:06:19.440 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:06:19.449 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 500 245 application/problem+json;+charset=utf-8 11511.9531ms
2021-08-18 11:06:52.195 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:06:52.198 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:06:52.212 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:06:52.212 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:06:52.232 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:06:52.258 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:06:52.265 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:09:20.736 +07:00 [INF] Application is starting
2021-08-18 11:09:24.112 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 11:09:24.749 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 11:09:24.749 +07:00 [INF] Hosting environment: Development
2021-08-18 11:09:24.749 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 11:09:24.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 11:09:25.068 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 224.1564ms
2021-08-18 11:09:25.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 11:09:25.437 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.9393ms
2021-08-18 11:09:43.658 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:09:43.664 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:09:43.695 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:09:43.739 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:09:44.434 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:09:45.639 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:09:46.730 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:09:47.069 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 11:09:47.227 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 11:09:47.289 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3543.4165ms
2021-08-18 11:09:47.290 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:09:47.297 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 202 361 application/json;+charset=utf-8 3638.7164ms
2021-08-18 11:14:01.881 +07:00 [INF] Application is starting
2021-08-18 11:14:06.001 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 11:14:06.622 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 11:14:06.623 +07:00 [INF] Hosting environment: Development
2021-08-18 11:14:06.623 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 11:14:06.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 11:14:06.940 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 224.5021ms
2021-08-18 11:14:07.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 11:14:07.267 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.8566ms
2021-08-18 11:14:29.580 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 11:14:29.588 +07:00 [INF] CORS policy execution successful.
2021-08-18 11:14:29.638 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:14:29.672 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 11:14:30.261 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 11:14:31.485 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 11:14:32.884 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 11:14:52.524 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 11:14:52.664 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 11:14:52.735 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 23057.2683ms
2021-08-18 11:14:52.737 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 11:14:52.744 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 202 361 application/json;+charset=utf-8 23164.9397ms
2021-08-18 20:10:50.230 +07:00 [INF] Application is starting
2021-08-18 20:10:55.209 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:10:56.247 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:10:56.247 +07:00 [INF] Hosting environment: Development
2021-08-18 20:10:56.247 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:10:56.400 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:10:56.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 238.1630ms
2021-08-18 20:10:56.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:10:56.992 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.5426ms
2021-08-18 20:11:19.214 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/ - -
2021-08-18 20:11:23.772 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-08-18 20:11:26.424 +07:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:11:29.387 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:11:30.410 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-08-18 20:11:30.481 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-08-18 20:11:30.724 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 4295.6296ms
2021-08-18 20:11:30.725 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-08-18 20:11:30.729 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/ - - - 200 296 application/json;+charset=utf-8 11515.1704ms
2021-08-18 20:11:38.105 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:11:38.110 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:11:38.412 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:11:38.414 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 309.2970ms
2021-08-18 20:12:22.075 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:12:22.082 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:12:22.135 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:12:22.138 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 61.5223ms
2021-08-18 20:13:23.278 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 20:13:23.286 +07:00 [INF] CORS policy execution successful.
2021-08-18 20:13:23.288 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:13:23.314 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:13:23.407 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 20:13:23.442 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:13:23.559 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 20:13:23.747 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 20:13:23.852 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 20:13:23.860 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 546.2471ms
2021-08-18 20:13:23.860 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:13:23.863 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 202 361 application/json;+charset=utf-8 587.1903ms
2021-08-18 20:13:37.133 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:13:37.134 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:13:37.186 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:13:37.363 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:13:37.364 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 231.2803ms
2021-08-18 20:14:34.782 +07:00 [INF] Application is starting
2021-08-18 20:14:37.879 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:14:38.806 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:14:38.806 +07:00 [INF] Hosting environment: Development
2021-08-18 20:14:38.806 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:14:38.893 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:14:39.082 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 191.1716ms
2021-08-18 20:14:39.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:14:39.389 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.5315ms
2021-08-18 20:14:49.543 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:14:50.088 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:14:50.292 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:14:50.304 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:14:50.324 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:14:50.326 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 785.2067ms
2021-08-18 20:14:52.670 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:14:52.681 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:14:52.681 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:14:52.682 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:14:52.682 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:14:52.683 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 13.8293ms
2021-08-18 20:15:05.154 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:15:05.156 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:15:05.156 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:15:05.157 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:15:05.157 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:15:05.158 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 4.3115ms
2021-08-18 20:15:07.471 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:15:07.472 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:15:07.473 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:15:07.473 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:15:07.473 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:15:07.474 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 2.3785ms
2021-08-18 20:15:29.119 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 20:15:29.159 +07:00 [INF] CORS policy execution successful.
2021-08-18 20:15:29.167 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:15:29.205 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:15:29.671 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 20:15:30.431 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:15:31.134 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 20:15:31.338 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 20:15:31.377 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 20:15:31.440 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2230.9696ms
2021-08-18 20:15:31.441 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:15:31.448 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 202 361 application/json;+charset=utf-8 2329.4542ms
2021-08-18 20:15:44.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:15:44.244 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:15:44.244 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:15:44.244 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:15:44.245 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:15:44.246 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 2.8184ms
2021-08-18 20:16:07.925 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:16:07.925 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:16:07.932 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:16:07.934 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 9.1641ms
2021-08-18 20:16:53.910 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:16:53.917 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:16:53.917 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:16:53.917 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:16:53.917 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:16:53.919 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 9.0943ms
2021-08-18 20:18:31.176 +07:00 [INF] Application is starting
2021-08-18 20:18:33.052 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:18:33.606 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:18:33.606 +07:00 [INF] Hosting environment: Development
2021-08-18 20:18:33.606 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:18:33.691 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:18:33.933 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 244.0568ms
2021-08-18 20:18:34.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:18:34.288 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.3801ms
2021-08-18 20:18:40.607 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:18:41.080 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:18:41.157 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:18:41.164 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:18:41.172 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:18:41.174 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 569.2990ms
2021-08-18 20:22:47.397 +07:00 [INF] Application is starting
2021-08-18 20:22:49.401 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:22:49.780 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:22:49.780 +07:00 [INF] Hosting environment: Development
2021-08-18 20:22:49.780 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:22:49.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:22:50.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 173.3694ms
2021-08-18 20:22:50.129 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:22:50.232 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.8183ms
2021-08-18 20:22:52.753 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:22:53.152 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:22:53.225 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:22:53.231 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:22:53.238 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:22:53.240 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 486.6473ms
2021-08-18 20:22:59.750 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:22:59.759 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:22:59.759 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:22:59.759 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:22:59.760 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:22:59.761 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 10.9796ms
2021-08-18 20:23:25.246 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:23:25.280 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:23:25.281 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:23:25.282 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:23:25.283 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:23:25.288 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 42.0220ms
2021-08-18 20:25:15.197 +07:00 [INF] Application is starting
2021-08-18 20:25:17.134 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:25:17.568 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:25:17.568 +07:00 [INF] Hosting environment: Development
2021-08-18 20:25:17.568 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:25:17.627 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:25:17.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 139.7103ms
2021-08-18 20:25:17.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:25:18.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.0033ms
2021-08-18 20:25:20.907 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:25:21.290 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:25:21.352 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:25:21.356 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:25:21.362 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:25:21.364 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 457.4472ms
2021-08-18 20:25:22.436 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:25:22.441 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:25:22.441 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:25:22.442 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:25:22.442 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:25:22.443 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 6.9828ms
2021-08-18 20:25:26.088 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/ - -
2021-08-18 20:25:26.090 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:25:26.090 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:25:26.091 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-08-18 20:25:26.120 +07:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:25:27.693 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:25:28.676 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-08-18 20:25:28.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-08-18 20:25:28.939 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 2811.4682ms
2021-08-18 20:25:28.940 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-08-18 20:25:28.947 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/ - - - 200 296 application/json;+charset=utf-8 2858.5814ms
2021-08-18 20:25:32.346 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:25:32.348 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:25:32.348 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:25:32.350 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:25:32.350 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:25:32.352 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 5.8359ms
2021-08-18 20:26:41.206 +07:00 [INF] Application is starting
2021-08-18 20:26:43.474 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:26:44.231 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:26:44.231 +07:00 [INF] Hosting environment: Development
2021-08-18 20:26:44.231 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:26:44.326 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:26:44.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 215.1290ms
2021-08-18 20:26:44.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:26:44.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 187.9130ms
2021-08-18 20:26:49.365 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:27:26.136 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:27:26.206 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:27:26.211 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:27:26.218 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:27:26.220 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 36854.6983ms
2021-08-18 20:27:50.792 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:27:50.834 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:27:50.834 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:27:50.836 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:27:50.841 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:27:50.842 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 50.3014ms
2021-08-18 20:27:56.701 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:27:56.702 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:27:56.702 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:27:56.703 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:27:56.703 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:27:56.704 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 2.7840ms
2021-08-18 20:28:24.034 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:28:24.041 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:28:24.041 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:28:24.042 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:28:24.042 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:28:24.045 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 11.1701ms
2021-08-18 20:28:49.342 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:28:49.351 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:28:49.351 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:28:49.351 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:28:49.351 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:28:49.362 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 14.3833ms
2021-08-18 20:30:15.722 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44346/api/Account/login text/plain 63
2021-08-18 20:30:15.742 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:15.789 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:30:16.304 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-18 20:30:16.483 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 685.2924ms
2021-08-18 20:30:16.485 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:16.488 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:44346/api/Account/login text/plain 63 - 415 175 application/problem+json;+charset=utf-8 766.4406ms
2021-08-18 20:30:30.020 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51
2021-08-18 20:30:30.023 +07:00 [INF] CORS policy execution successful.
2021-08-18 20:30:30.024 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:30.025 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:30:30.116 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 20:30:31.257 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:30:32.340 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 20:30:32.610 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 20:30:32.668 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 20:30:32.675 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2650.4037ms
2021-08-18 20:30:32.676 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:32.683 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44346/api/Account/login application/json-patch+json 51 - 202 361 application/json;+charset=utf-8 2663.5365ms
2021-08-18 20:30:58.139 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44346/api/Account/login text/plain 63
2021-08-18 20:30:58.139 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:58.139 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:30:58.158 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-18 20:30:58.159 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 19.5966ms
2021-08-18 20:30:58.159 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:30:58.161 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:44346/api/Account/login text/plain 63 - 415 175 application/problem+json;+charset=utf-8 22.5216ms
2021-08-18 20:31:17.933 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44346/api/Account/login application/json 63
2021-08-18 20:31:17.935 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:31:17.935 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-08-18 20:31:17.940 +07:00 [INF] Login Attempt for namtan@gmail.com
2021-08-18 20:31:17.974 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:31:17.983 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-08-18 20:31:18.001 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-08-18 20:31:18.002 +07:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-08-18 20:31:18.002 +07:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 66.8221ms
2021-08-18 20:31:18.002 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-08-18 20:31:18.002 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:44346/api/Account/login application/json 63 - 202 361 application/json;+charset=utf-8 69.0316ms
2021-08-18 20:31:28.057 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:31:28.057 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-08-18 20:31:28.058 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-08-18 20:31:28.058 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-08-18 20:31:28.058 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-08-18 20:31:28.058 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 401 - - 1.5873ms
2021-08-18 20:33:16.264 +07:00 [INF] Application is starting
2021-08-18 20:33:19.996 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:33:20.600 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:33:20.601 +07:00 [INF] Hosting environment: Development
2021-08-18 20:33:20.601 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:33:20.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:33:20.911 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 226.6372ms
2021-08-18 20:33:21.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:33:21.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.6836ms
2021-08-18 20:33:23.382 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - -
2021-08-18 20:33:23.921 +07:00 [INF] Successfully validated the token.
2021-08-18 20:33:23.928 +07:00 [INF] Authorization was successful.
2021-08-18 20:33:23.929 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:33:23.982 +07:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:33:25.440 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:33:26.595 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-08-18 20:33:26.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-08-18 20:33:26.850 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 2860.314ms
2021-08-18 20:33:26.851 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:33:26.860 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 3477.6012ms
2021-08-18 20:33:35.246 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - -
2021-08-18 20:33:35.249 +07:00 [INF] Successfully validated the token.
2021-08-18 20:33:35.249 +07:00 [INF] Authorization was successful.
2021-08-18 20:33:35.249 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:33:35.250 +07:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:33:35.273 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:33:35.282 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-08-18 20:33:35.283 +07:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-08-18 20:33:35.283 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 33.7746ms
2021-08-18 20:33:35.283 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:33:35.284 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - - - 200 148 application/json;+charset=utf-8 37.7671ms
2021-08-18 20:35:10.969 +07:00 [INF] Application is starting
2021-08-18 20:35:13.063 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:35:13.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:35:13.444 +07:00 [INF] Hosting environment: Development
2021-08-18 20:35:13.444 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:35:13.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:35:13.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 161.1076ms
2021-08-18 20:35:13.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:35:13.936 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.2797ms
2021-08-18 20:35:17.366 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - -
2021-08-18 20:35:17.760 +07:00 [INF] Successfully validated the token.
2021-08-18 20:35:17.768 +07:00 [INF] Authorization was successful.
2021-08-18 20:35:17.770 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:35:17.821 +07:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:35:18.921 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:35:19.763 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-08-18 20:35:19.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-08-18 20:35:19.994 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 2167.4597ms
2021-08-18 20:35:19.995 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:35:20.002 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - - - 200 148 application/json;+charset=utf-8 2636.2100ms
2021-08-18 20:37:11.677 +07:00 [INF] Application is starting
2021-08-18 20:37:14.891 +07:00 [INF] User profile is available. Using 'C:\Users\26008500\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-08-18 20:37:15.614 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-18 20:37:15.614 +07:00 [INF] Hosting environment: Development
2021-08-18 20:37:15.614 +07:00 [INF] Content root path: D:\Code\HotelListing\HotelListing
2021-08-18 20:37:15.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/index.html - -
2021-08-18 20:37:15.950 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/index.html - - - 200 - text/html;charset=utf-8 231.3656ms
2021-08-18 20:37:16.119 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - -
2021-08-18 20:37:16.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44346/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.1391ms
2021-08-18 20:37:24.669 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - -
2021-08-18 20:37:25.121 +07:00 [INF] Successfully validated the token.
2021-08-18 20:37:25.127 +07:00 [INF] Authorization was successful.
2021-08-18 20:37:25.128 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:37:25.165 +07:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:37:26.650 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:37:27.783 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-08-18 20:37:27.908 +07:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-08-18 20:37:28.136 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 2959.0047ms
2021-08-18 20:37:28.138 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:37:28.156 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - - - 200 148 application/json;+charset=utf-8 3486.7797ms
2021-08-18 20:37:35.125 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - -
2021-08-18 20:37:35.128 +07:00 [INF] Successfully validated the token.
2021-08-18 20:37:35.129 +07:00 [INF] Authorization was successful.
2021-08-18 20:37:35.129 +07:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:37:35.129 +07:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-08-18 20:37:35.170 +07:00 [INF] Entity Framework Core 5.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-08-18 20:37:35.182 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-08-18 20:37:35.183 +07:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-08-18 20:37:35.184 +07:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 54.6021ms
2021-08-18 20:37:35.184 +07:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-08-18 20:37:35.184 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44346/api/Hotel/2 - - - 200 148 application/json;+charset=utf-8 59.4505ms
